<html>
<html>
<head>
  <title>EDICTOR WORD FAMILY GRAPH</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="icon" href="img/wordlists.png" type="image/png" />
<link rel="stylesheet" href="../css/main.css" type="text/css" />
<!-- START SIGMA IMPORTS -->
<script src="sigma/sigma.core.js"></script>
<script src="sigma/conrad.js"></script>
<script src="sigma/utils/sigma.utils.js"></script>
<script src="sigma/utils/sigma.polyfills.js"></script>
<script src="sigma/sigma.settings.js"></script>
<script src="sigma/classes/sigma.classes.dispatcher.js"></script>
<script src="sigma/classes/sigma.classes.configurable.js"></script>
<script src="sigma/classes/sigma.classes.graph.js"></script>
<script src="sigma/classes/sigma.classes.camera.js"></script>
<script src="sigma/classes/sigma.classes.quad.js"></script>
<script src="sigma/classes/sigma.classes.edgequad.js"></script>
<script src="sigma/captors/sigma.captors.mouse.js"></script>
<script src="sigma/captors/sigma.captors.touch.js"></script>
<script src="sigma/renderers/sigma.renderers.canvas.js"></script>
<script src="sigma/renderers/sigma.renderers.webgl.js"></script>
<script src="sigma/renderers/sigma.renderers.svg.js"></script>
<script src="sigma/renderers/sigma.renderers.def.js"></script>
<script src="sigma/renderers/webgl/sigma.webgl.nodes.def.js"></script>
<script src="sigma/renderers/webgl/sigma.webgl.nodes.fast.js"></script>
<script src="sigma/renderers/webgl/sigma.webgl.edges.def.js"></script>
<script src="sigma/renderers/webgl/sigma.webgl.edges.fast.js"></script>
<script src="sigma/renderers/webgl/sigma.webgl.edges.arrow.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.labels.def.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.hovers.def.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.nodes.def.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.edges.def.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.edges.curve.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.edges.arrow.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.edges.curvedArrow.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.edgehovers.def.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.edgehovers.curve.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.edgehovers.arrow.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.edgehovers.curvedArrow.js"></script>
<script src="sigma/renderers/canvas/sigma.canvas.extremities.def.js"></script>
<script src="sigma/renderers/svg/sigma.svg.utils.js"></script>
<script src="sigma/renderers/svg/sigma.svg.nodes.def.js"></script>
<script src="sigma/renderers/svg/sigma.svg.edges.def.js"></script>
<script src="sigma/renderers/svg/sigma.svg.edges.curve.js"></script>
<script src="sigma/renderers/svg/sigma.svg.labels.def.js"></script>
<script src="sigma/renderers/svg/sigma.svg.hovers.def.js"></script>
<script src="sigma/middlewares/sigma.middlewares.rescale.js"></script>
<script src="sigma/middlewares/sigma.middlewares.copy.js"></script>
<script src="sigma/misc/sigma.misc.animation.js"></script>
<script src="sigma/misc/sigma.misc.bindEvents.js"></script>
<script src="sigma/misc/sigma.misc.bindDOMEvents.js"></script>
<script src="sigma/misc/sigma.misc.drawHovers.js"></script>
<script src="sigma/plugins/sigma.plugins.animate/sigma.plugins.animate.js"></script>
<script src="sigma/plugins/sigma.layout.noverlap/sigma.layout.noverlap.js"></script>
<script src="sigma/plugins/sigma.layout.forceAtlas2/worker.js"></script>
<script src="sigma/plugins/sigma.layout.forceAtlas2/supervisor.js"></script>
<script src="sigma/plugins/sigma.plugins.dragNodes/sigma.plugins.dragNodes.js"></script>
<!-- END SIGMA IMPORTS -->
<style type="text/css">
  #container {
    max-width: 800px;
    height: 600px;
    margin: auto;
    border: 2px solid Crimson;
    position: absolute;
    top: 100;
    left: 0;
    right: 0;
  }
</style>
</head>
<body>
  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container" style="width:100%">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <img class="navbar-brand" style="margin-top:8px;padding:0px;margin-right:5px;width:30px;height:30px;" src="img/wordlists.png" alt="tsv" />
        <span class="navbar-brand" onclick="event.preventDefault();window.location.reload();">
	  EDICTOR Word Family Graph for <span id="doculect"></span> 
	  (Powered by <a style="color:Crimson" href="http://sigmajs.org/">SIGMAJS</a>)</span>
      </div>
    </div>
  </div>
<h4 style="position:absolute;top:50;color:black;background:white;width:100%;text-align:center;margin-right:auto; margin-left:auto;">Bipartite Word Family Graph shows <span
    id="morphemes"></span> morphemes occuring in <span id="words"></span> words.</h4>

  <div id="container"></div>
<script>
var data = window.location.href.split('?');
var graph = JSON.parse(decodeURI(data[1]));
var sig = {};
sig.graph = graph;
sig.container = 'container';
sig.settings = {labelThreshold : 2};
sig = new sigma(sig);

document.getElementById('doculect').innerHTML = graph['doculect'];
document.getElementById('morphemes').innerHTML = graph['morphemes'];
document.getElementById('words').innerHTML = graph['words'];


var noverlapListener = sig.configNoverlap({
  nodeMargin: 0.1,
  scaleNodes: 1.05,
  gridSize: 75,
  easing: 'quadraticInOut', // animation transition function
  duration: 100   // animation duration. Long here for the purposes of this example only
});
// Bind the events:
noverlapListener.bind('start stop interpolate', function(e) {
  console.log(e.type);
  if(e.type === 'start') {
    console.time('noverlap');
  }
  if(e.type === 'interpolate') {
    console.timeEnd('noverlap');
  }
});
// Start the layout:
sig.startForceAtlas2();
setTimeout(function() {sig.stopForceAtlas2(); sig.startNoverlap();}, 1000);

// Initialize the dragNodes plugin:
var dragListener = sigma.plugins.dragNodes(sig, sig.renderers[0]);
dragListener.bind('startdrag', function(event) {
  console.log(event);
});
dragListener.bind('drag', function(event) {
  console.log(event);
});
dragListener.bind('drop', function(event) {
  console.log(event);
});
dragListener.bind('dragend', function(event) {
  console.log(event);
});
</script>
</body>
</html>


